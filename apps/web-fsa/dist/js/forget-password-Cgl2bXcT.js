var T=(c,l,a)=>new Promise((n,s)=>{var d=e=>{try{m(a.next(e))}catch(u){s(u)}},r=e=>{try{m(a.throw(e))}catch(u){s(u)}},m=e=>e.done?n(e.value):Promise.resolve(e.value).then(d,r);m((a=a.apply(c,l)).next())});import{G as B,$ as i,H as v}from"./bootstrap-nS_r6Uzy.js";import{T as $}from"./auth-title-syvjO5h0.js";import{d as _,Q as P,c as k,j as V,k as S,b as p,m as C,K as g,v as w,L as h,x as b,u as o,n as x,r as F,E as y}from"../jse/index-index-BsdptGcH.js";import{u as L,a as N}from"./use-vben-form-qIoZL4uF.js";import"./index-BMGsZtLz.js";import"./checkbox.vue_vue_type_script_setup_true_lang-BsbbvZXe.js";import"./render-content.vue_vue_type_script_lang-0IkNOgdT.js";const A=_({name:"ForgetPassword",__name:"forget-password",props:{formSchema:{},loading:{type:Boolean,default:!1},loginPath:{default:"/auth/login"},title:{default:""},subTitle:{default:""},submitButtonText:{default:""}},emits:["submit"],setup(c,{expose:l,emit:a}){const n=c,s=a,[d,r]=L(P({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:k(()=>n.formSchema),showDefaultActions:!1})),m=B();function e(){return T(this,null,function*(){const{valid:t}=yield r.validate(),f=yield r.getValues();t&&s("submit",f)})}function u(){m.push(n.loginPath)}return l({getFormApi:()=>r}),(t,f)=>(S(),V("div",null,[p($,null,{desc:g(()=>[w(t.$slots,"subTitle",{},()=>[h(b(t.subTitle||o(i)("authentication.forgetPasswordSubtitle")),1)])]),default:g(()=>[w(t.$slots,"title",{},()=>[h(b(t.title||o(i)("authentication.forgetPassword"))+" 🤦🏻‍♂️ ",1)])]),_:3}),p(o(d)),C("div",null,[p(o(v),{class:x([{"cursor-wait":t.loading},"mt-2 w-full"]),"aria-label":"submit",onClick:e},{default:g(()=>[w(t.$slots,"submitButtonText",{},()=>[h(b(t.submitButtonText||o(i)("authentication.sendResetLink")),1)])]),_:3},8,["class"]),p(o(v),{class:"mt-4 w-full",variant:"outline",onClick:f[0]||(f[0]=E=>u())},{default:g(()=>[h(b(o(i)("common.back")),1)]),_:1})])]))}}),K=_({name:"ForgetPassword",__name:"forget-password",setup(c){const l=F(!1),a=k(()=>[{component:"VbenInput",componentProps:{placeholder:"example@example.com"},fieldName:"email",label:i("authentication.email"),rules:N().min(1,{message:i("authentication.emailTip")}).email(i("authentication.emailValidErrorTip"))}]);function n(s){console.log("reset email:",s)}return(s,d)=>(S(),y(o(A),{"form-schema":a.value,loading:l.value,onSubmit:n},null,8,["form-schema","loading"]))}});export{K as default};
