var T=(c,l,t)=>new Promise((n,s)=>{var f=e=>{try{m(t.next(e))}catch(u){s(u)}},r=e=>{try{m(t.throw(e))}catch(u){s(u)}},m=e=>e.done?n(e.value):Promise.resolve(e.value).then(f,r);m((t=t.apply(c,l)).next())});import{b2 as B,b1 as i,b3 as v}from"./bootstrap-BJQ4xY_l.js";import{T as P}from"./auth-title-D0rZzLTn.js";import{a4 as _,R as V,J as S,av as $,ab as k,x as p,aD as C,ac as b,a8 as w,ai as g,aj as h,a7 as o,aV as x,P as F,aa as y}from"../jse/index-index-CZjfKQLv.js";import{u as N,s as R}from"./use-vben-form-9RyIkVnb.js";import"./index-vlz9cqoy.js";import"./checkbox.vue_vue_type_script_setup_true_lang-obtDsCTt.js";import"./render-content.vue_vue_type_script_lang-DyZFyp8x.js";const A=_({name:"ForgetPassword",__name:"forget-password",props:{formSchema:{},loading:{type:Boolean,default:!1},loginPath:{default:"/auth/login"},title:{default:""},subTitle:{default:""},submitButtonText:{default:""}},emits:["submit"],setup(c,{expose:l,emit:t}){const n=c,s=t,[f,r]=N(V({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:S(()=>n.formSchema),showDefaultActions:!1})),m=B();function e(){return T(this,null,function*(){const{valid:a}=yield r.validate(),d=yield r.getValues();a&&s("submit",d)})}function u(){m.push(n.loginPath)}return l({getFormApi:()=>r}),(a,d)=>(k(),$("div",null,[p(P,null,{desc:b(()=>[w(a.$slots,"subTitle",{},()=>[g(h(a.subTitle||o(i)("authentication.forgetPasswordSubtitle")),1)])]),default:b(()=>[w(a.$slots,"title",{},()=>[g(h(a.title||o(i)("authentication.forgetPassword"))+" ðŸ¤¦ðŸ»â€â™‚ï¸ ",1)])]),_:3}),p(o(f)),C("div",null,[p(o(v),{class:x([{"cursor-wait":a.loading},"mt-2 w-full"]),"aria-label":"submit",onClick:e},{default:b(()=>[w(a.$slots,"submitButtonText",{},()=>[g(h(a.submitButtonText||o(i)("authentication.sendResetLink")),1)])]),_:3},8,["class"]),p(o(v),{class:"mt-4 w-full",variant:"outline",onClick:d[0]||(d[0]=D=>u())},{default:b(()=>[g(h(o(i)("common.back")),1)]),_:1})])]))}}),G=_({name:"ForgetPassword",__name:"forget-password",setup(c){const l=F(!1),t=S(()=>[{component:"VbenInput",componentProps:{placeholder:"example@example.com"},fieldName:"email",label:i("authentication.email"),rules:R().min(1,{message:i("authentication.emailTip")}).email(i("authentication.emailValidErrorTip"))}]);function n(s){console.log("reset email:",s)}return(s,f)=>(k(),y(o(A),{"form-schema":t.value,loading:l.value,onSubmit:n},null,8,["form-schema","loading"]))}});export{G as default};
